@using NgIcons.Core
@inject IJSRuntime Js

<div class="icon-card" style="--accent:@Accent">
    <div class="icon-visual" @onclick="CopySvg">
        @((MarkupString)Icon.WithSize(48))
    </div>
    <div class="icon-meta">
        <div class="icon-name">@Icon.Name</div>
        <div class="icon-actions">
            <span class="icon-pill">@Library</span>
            <button class="icon-button" @onclick="CopyName">Copy name</button>
        </div>
    </div>
</div>

@code {
    [Parameter]
    public IconDefinition Icon { get; set; } = default!;

    [Parameter]
    public string Library { get; set; } = string.Empty;

    [Parameter]
    public string Accent { get; set; } = "#6b21a8";

    private async Task CopyName()
    {
        await Js.InvokeVoidAsync("navigator.clipboard.writeText", Icon.Name);
    }

    private async Task CopySvg()
    {
        await Js.InvokeVoidAsync("navigator.clipboard.writeText", Icon.Svg);
    }
}
